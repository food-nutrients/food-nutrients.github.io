{"version":3,"sources":["logo3.png","components/food-selector/index.js","components/macro-nutrients/index.js","components/micro-nutrients/index.js","components/selected-food/index.js","App.js","components/tutorial.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Option","Select","FoodSelector","state","selectedFood","undefined","_this2","this","react_default","a","createElement","className","es_select","showSearch","style","width","size","value","placeholder","optionFilterProp","onChange","e","props","setState","filterOption","input","option","children","toLowerCase","indexOf","foods","map","foodName","key","Component","MacroNutrients","macroNutrients","caloriesInUnits","caloriesUnits","proteinsInUnits","proteinUnits","carbohydratesInUnits","carbohydratesUnits","fatInUnits","fatUnits","defaultPropTypes","calories","proteins","carbohydrates","fat","MicroNutrients","microNutrient","barType","amount","rda","_this","microNutrientsByType","definitions","reduce","group","current","type","push","Object","keys","microNutrientsByTypeName","percentage","unit","mN","microNutrients","name","amountInUnits","amountUnit","target","rel","href","wiki","progress","showInfo","status","nutrientStatus","percent","SelectedFood","food","addonAfter","min","max","assign","parseInt","currentTarget","defaultValue","es_button","onClick","onRemove","icon","App","selectedFoods","foodsForSelection","calculateMacroNutrients","forEach","parseFloat","toFixed","calculateMicroNutrients","nutrients","nutrient","objectSpread","foodNutrients","console","log","concat","updateMacroNutrients","updateMicroNutrients","updateFoodSelector","allPossibleFoods","allSelectedFoods","sf","filter","f","includes","onFoodSelect","selectedFoodName","toConsumableArray","find","serving","onFoodRemove","removedFood","removedFoodIndex","findIndex","updatedSelectedFoods","update","$splice","onFoodAmountChange","updatedSelectedFood","updatedFoodIndex","window","localStorage","getItem","tour","Shepherd","Tour","defaultStepOptions","classes","scrollTo","useModalOverlay","addStep","text","attachTo","buttons","action","next","setTimeout","start","setItem","tutorial","alt","src","logo","food_selector_FoodSelector","length","fontSize","color","selected_food_SelectedFood","macro_nutrients_MacroNutrients","micro_nutrients_MicroNutrients","Boolean","location","hostname","match","ReactDOM","render","App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1b78410d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo3.0435ee98.png\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Select } from 'antd';\n\nconst Option = Select.Option;\n\nexport default class FoodSelector extends Component {\n  static propTypes = {\n        foods: PropTypes.array.isRequired,\n        onChange: PropTypes.func.isRequired\n  }\n  state = {\n    selectedFood: undefined\n  }\n  render() {\n    return (\n      <div className=\"foodSelector\">\n        <Select\n            showSearch\n            style={{ width: '100%' }}\n            size=\"large\"\n            value={this.state.selectedFood}\n            placeholder=\"+ Add food\"\n            optionFilterProp=\"children\"\n            onChange={(e) => {\n              this.props.onChange(e);\n              this.setState({\n                selectedFood: undefined\n              });\n            }}\n            filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n        >\n            {\n                this.props.foods.map(foodName => <Option key={foodName} value={foodName}>{foodName}</Option>)\n            }\n        </Select>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './../../App.css'\n\nexport default class MacroNutrients extends Component {\n  static propTypes = {\n    macroNutrients: PropTypes.any.isRequired\n  }\n\n  static defaultPropTypes = {\n    macroNutrients: {\n      calories: 0,\n      caloriesUnits: 'kcal',\n      caloriesInUnits: 0,\n      proteins: 0,\n      proteinUnits: 'μg',\n      proteinsInUnits: 0,\n      carbohydrates: 0,\n      carbohydratesUnits: 'μg',\n      carbohydratesInUnits: 0,\n      fat: 0,\n      fatUnits: 'μg',\n      fatInUnits: 0\n    }\n  }\n\n  render() {\n    return (\n            <div className=\"macroNutrients\">\n                <div className=\"macroNutrient\">\n                    <div>Calories</div>\n                    <div>{this.props.macroNutrients.caloriesInUnits} {this.props.macroNutrients.caloriesUnits}</div>\n                </div>\n                <div className=\"macroNutrient\">\n                    <div>Proteins</div>\n                    <div>{this.props.macroNutrients.proteinsInUnits} {this.props.macroNutrients.proteinUnits}</div>\n                </div>\n                <div className=\"macroNutrient\">\n                    <div>Carbs</div>\n                    <div>{this.props.macroNutrients.carbohydratesInUnits} {this.props.macroNutrients.carbohydratesUnits}</div>\n                </div>\n                <div className=\"macroNutrient\">\n                    <div>Fats</div>\n                    <div>{this.props.macroNutrients.fatInUnits} {this.props.macroNutrients.fatUnits}</div>\n                </div>\n            </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport {Progress} from 'antd';\n\nexport default class MicroNutrients extends Component {\n  static propTypes = {\n    definitions: PropTypes.any.isRequired,\n    microNutrients: PropTypes.any\n  }\n  nutrientStatus (microNutrient) {\n    let barType = 'normal';\n    if (microNutrient.amount >= microNutrient.rda && microNutrient.amount < 1.5 * microNutrient.rda) {\n      barType = 'success'\n    } else if (microNutrient.amount >= 1.5 * microNutrient.rda) {\n      barType = 'exception'\n    }\n    return barType;\n  }\n\n  render() {\n      const microNutrientsByType = this.props.definitions.reduce((group, current) => {\n          if (typeof group[current.type] === 'undefined') {\n              group[current.type] = [];\n          }\n          group[current.type].push(current);\n          return group;\n      }, {});\n    return (\n      <div className=\"microNutrients\">\n        {\n            Object.keys(microNutrientsByType).map(microNutrientsByTypeName => \n                <div key={microNutrientsByTypeName} className=\"microNutrientType\">\n                    <span className=\"nutrientType\">{microNutrientsByTypeName}</span>\n                    {\n                        microNutrientsByType[microNutrientsByTypeName].map(microNutrient => {\n                          let percentage = 0;\n                          let amount = 0;\n                          let unit = 'μg';\n                          let mN = {};\n                          if (this.props.microNutrients && this.props.microNutrients[microNutrient.name]) {\n                            mN = this.props.microNutrients[microNutrient.name];\n                            percentage = this.props.microNutrients[microNutrient.name].percentage;\n                            amount = this.props.microNutrients[microNutrient.name].amountInUnits;\n                            unit = this.props.microNutrients[microNutrient.name].amountUnit;\n                          }\n                          \n                          return <div key={microNutrient.name} className=\"microNutrient\">\n                          <div className=\"microNutrientName\"><a target=\"_blank\" rel=\"noopener noreferrer\" href={microNutrient.wiki}>{microNutrient.name}</a></div>\n                          <div className=\"microNutrientProgressBar\">\n                            <Progress showInfo={false} status={this.nutrientStatus(mN)} percent={percentage} size=\"small\" />\n                            <span>{percentage}% </span>\n                          </div>\n                          <div className=\"microNutrientAmount\">{amount} {unit}</div>\n                      </div>\n                        })\n                    }\n                </div>\n            )\n        }\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport {Input, Button, Icon} from 'antd'; \n\nexport default class SelectedFood extends Component {\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    onRemove: PropTypes.func.isRequired,\n    selectedFood: PropTypes.shape({\n        food: PropTypes.any,\n        amount: PropTypes.number\n    }).isRequired\n  }\n\n  render() {\n    return (\n      <div className=\"selectedFood\">\n        <h2>{this.props.selectedFood.food.name}</h2>\n        <div className=\"selectedFoodAmount\">\n            <Input addonAfter=\"grams\" min=\"0\" max=\"5000\" type=\"number\" onChange={(e) => {\n                this.props.onChange(Object.assign(this.props.selectedFood, { amount: parseInt(e.currentTarget.value, 10) }));\n            }} defaultValue={this.props.selectedFood.amount} />\n            <Button onClick={() => this.props.onRemove(this.props.selectedFood)} className=\"deleteBtn\"><Icon type=\"delete\" /></Button>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, {Component} from 'react';\nimport './App.css';\nimport FoodSelector from './components/food-selector';\nimport MacroNutrients from './components/macro-nutrients';\n\n\nimport foods from './foods.json'\nimport nutrients from './nutrients.json'\nimport MicroNutrients from './components/micro-nutrients';\nimport SelectedFood from './components/selected-food';\nimport tutorial from './components/tutorial'\nimport logo from './logo3.png';\nimport {Icon} from 'antd';\nimport update from 'immutability-helper';\n\nexport default class App extends Component {\n\n  state = {\n    selectedFoods: [],\n    macroNutrients: {\n      calories: 0,\n      caloriesUnits: 'kcal',\n      caloriesInUnits: 0,\n      proteins: 0,\n      proteinUnits: 'μg',\n      proteinsInUnits: 0,\n      carbohydrates: 0,\n      carbohydratesUnits: 'μg',\n      carbohydratesInUnits: 0,\n      fat: 0,\n      fatUnits: 'μg',\n      fatInUnits: 0\n    },\n    foodsForSelection: []\n  }\n  calculateMacroNutrients = (selectedFoods) => {\n    const macroNutrients = Object.assign({}, {\n      calories: 0,\n      caloriesUnits: 'kcal',\n      caloriesInUnits: 0,\n      proteins: 0,\n      proteinUnits: 'μg',\n      proteinsInUnits: 0,\n      carbohydrates: 0,\n      carbohydratesUnits: 'μg',\n      carbohydratesInUnits: 0,\n      fat: 0,\n      fatUnits: 'μg',\n      fatInUnits: 0\n    });\n    selectedFoods.forEach(selectedFood => {\n      selectedFood.amount = selectedFood.amount || 0;\n      macroNutrients.calories += selectedFood.food.calories * selectedFood.amount;\n      macroNutrients.proteins += selectedFood.food.proteins * selectedFood.amount;\n      macroNutrients.carbohydrates += selectedFood.food.carbohydrates * selectedFood.amount;\n      macroNutrients.fat += selectedFood.food.fat * selectedFood.amount;\n    })\n    macroNutrients.caloriesInUnits = macroNutrients.calories;\n    macroNutrients.proteinsInUnits = macroNutrients.proteins;\n    macroNutrients.carbohydratesInUnits = macroNutrients.carbohydrates;\n    macroNutrients.fatInUnits = macroNutrients.fat;\n    if (macroNutrients.proteinsInUnits >= 1000) {\n      macroNutrients.proteinsInUnits /= 1000;\n      macroNutrients.proteinUnits = 'mg'\n    }\n    if (macroNutrients.proteinsInUnits >= 1000) {\n      macroNutrients.proteinsInUnits /= 1000;\n      macroNutrients.proteinUnits = 'g'\n    }\n    if (macroNutrients.carbohydratesInUnits >= 1000) {\n      macroNutrients.carbohydratesInUnits /= 1000;\n      macroNutrients.carbohydratesUnits = 'mg'\n    }\n    if (macroNutrients.carbohydratesInUnits >= 1000) {\n      macroNutrients.carbohydratesInUnits /= 1000;\n      macroNutrients.carbohydratesUnits = 'g'\n    }\n    if (macroNutrients.fatInUnits >= 1000) {\n      macroNutrients.fatInUnits /= 1000;\n      macroNutrients.fatUnits = 'mg'\n    }\n    if (macroNutrients.fatInUnits >= 1000) {\n      macroNutrients.fatInUnits /= 1000;\n      macroNutrients.fatUnits = 'g'\n    }\n\n    // Rounding\n    macroNutrients.caloriesInUnits = parseFloat(parseFloat(macroNutrients.caloriesInUnits).toFixed(2));\n    macroNutrients.proteinsInUnits = parseFloat(parseFloat(macroNutrients.proteinsInUnits).toFixed(2));\n    macroNutrients.carbohydratesInUnits = parseFloat(parseFloat(macroNutrients.carbohydratesInUnits).toFixed(2));\n    macroNutrients.fatInUnits = parseFloat(parseFloat( macroNutrients.fatInUnits).toFixed(2));\n\n    return macroNutrients;\n  }\n\n  calculateMicroNutrients = (selectedFoods) => {\n    const microNutrients = {};\n    nutrients.forEach(nutrient => {\n      microNutrients[nutrient.name] = {\n        ...nutrient,\n        amount: 0,\n        percentage: 0,\n        status: undefined\n      };\n      selectedFoods.forEach(selectedFood => {\n        const foodNutrients = selectedFood.food.nutrients[nutrient.name];\n        if (typeof foodNutrients === 'undefined') {\n          console.log(`Food ${selectedFood.name} is missing nutrient: ${nutrient.name}`);\n        }\n        microNutrients[nutrient.name].amount += (foodNutrients || 0) * selectedFood.amount;\n      })\n      microNutrients[nutrient.name].percentage = parseInt((microNutrients[nutrient.name].amount * 100) / microNutrients[nutrient.name].rda, 10)\n      microNutrients[nutrient.name].amount = parseInt(microNutrients[nutrient.name].amount, 10)\n      microNutrients[nutrient.name].amountInUnits = microNutrients[nutrient.name].amount\n      microNutrients[nutrient.name].amountUnit = 'μg'\n      if (microNutrients[nutrient.name].amountInUnits >= 1000) {\n        microNutrients[nutrient.name].amountInUnits /= 1000;\n        microNutrients[nutrient.name].amountUnit = 'mg'\n      }\n      if (microNutrients[nutrient.name].amountInUnits >= 1000) {\n        microNutrients[nutrient.name].amountInUnits /= 1000;\n        microNutrients[nutrient.name].amountUnit = 'g'\n      }\n      microNutrients[nutrient.name].amountInUnits = parseFloat(parseFloat(microNutrients[nutrient.name].amountInUnits).toFixed(2));\n    })\n    \n    console.log(microNutrients);\n    return microNutrients;\n  }\n\n  updateMacroNutrients = () => {\n    this.setState({\n      macroNutrients: this.calculateMacroNutrients(this.state.selectedFoods)\n    });\n  }\n  updateMicroNutrients = () => {\n    this.setState({\n      microNutrients: this.calculateMicroNutrients(this.state.selectedFoods)\n    });\n  }\n  updateFoodSelector = () => {\n    const allPossibleFoods = foods.map(food => food.name);\n    const allSelectedFoods =this.state.selectedFoods.map(sf => sf.food.name);\n    this.setState({\n      foodsForSelection: allPossibleFoods.filter(f => !allSelectedFoods.includes(f))\n    })\n  }\n  onFoodSelect = selectedFoodName => {\n    this.setState({\n      selectedFoods: [\n        ...this.state.selectedFoods,\n        {\n          food: foods.find(f => f.name === selectedFoodName),\n          amount: foods.find(f => f.name === selectedFoodName).serving || 100\n        }\n      ]\n    }, () => {\n      this.updateMacroNutrients();\n      this.updateMicroNutrients();\n      this.updateFoodSelector();\n    })\n  }\n  \n  onFoodRemove = (removedFood) => {\n    const removedFoodIndex = this.state.selectedFoods.findIndex(f => f.food.name === removedFood.food.name);\n    const updatedSelectedFoods = update(this.state.selectedFoods, {$splice: [[removedFoodIndex, 1]]});\n    this.setState({selectedFoods: updatedSelectedFoods}, () => {\n      this.updateMacroNutrients();\n      this.updateMicroNutrients();\n      this.updateFoodSelector();\n    });\n  }\n  onFoodAmountChange = (updatedSelectedFood) => {\n    const updatedFoodIndex = this.state.selectedFoods.findIndex(f => f.food.name === updatedSelectedFood.food.name);\n    const updatedSelectedFoods = update(this.state.selectedFoods, {$splice: [[updatedFoodIndex, 1, updatedSelectedFood]]});\n    this.setState({selectedFoods: updatedSelectedFoods}, () => {\n      this.updateMacroNutrients();\n      this.updateMicroNutrients();\n    });\n  }\n  \n  componentDidMount() {\n    this.setState({\n      foodsForSelection: foods.map(food => food.name)\n    })\n    tutorial();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"leftPanel\">\n          <div className=\"logo\">\n            <img alt=\"Logo\" src={logo} />\n          </div>\n            <FoodSelector className=\"foodSelector\" foods={this.state.foodsForSelection} onChange={this.onFoodSelect} />\n            {this.state.selectedFoods.length === 0 && \n            <div className=\"addFoods\">\n              <Icon className=\"animate-flicker\" style={{fontSize: '50pt', color: 'gray'}} type=\"arrow-up\" />\n            </div>}\n            {this.state.selectedFoods.length > 0 && <h3 className=\"selectedFoodsLabel\">Selected foods</h3>}\n            \n            {\n              this.state.selectedFoods.map(selectedFood => \n                <SelectedFood\n                  key={selectedFood.food.name}\n                  selectedFood={selectedFood}\n                  onChange={this.onFoodAmountChange}\n                  onRemove={this.onFoodRemove}\n                ></SelectedFood>\n              )\n            }\n        </div>\n        <div className=\"rightPanel\">\n        \n          <MacroNutrients macroNutrients={this.state.macroNutrients} />\n          <MicroNutrients definitions={nutrients} microNutrients={this.state.microNutrients}></MicroNutrients>\n        </div>\n      </div>\n    );\n  }\n}","import Shepherd from 'shepherd.js';\nimport 'shepherd.js/dist/css/shepherd-theme-default.css'\n\nexport default () => {\n    if (window.localStorage.getItem('tutorial') === null) {\n        const tour = new Shepherd.Tour({\n          defaultStepOptions: {\n            classes: 'shadow-md bg-purple-dark',\n            scrollTo: true\n          },\n          useModalOverlay: true\n        });\n        tour.addStep('foods', {\n          text: 'Select the foods from the dropdown',\n          attachTo: '.foodSelector bottom',\n          classes: 'foodSelector',\n          buttons: [{ text: 'Next', action: tour.next}]\n        });\n        tour.addStep('macro', {\n          text: 'Then you will see the total calories and macro nutrients.',\n          attachTo: '.macroNutrients bottom',\n          classes: 'macroNutrients',\n          buttons: [ {text: 'Next', action: tour.next }]\n        });\n        tour.addStep('micro', {\n          text: 'And also all micro nutrients and % of daily recommended values.',\n          attachTo: '.microNutrients left',\n          classes: 'microNutrients',\n          buttons: [{ text: 'Thanks, enjoy!', action: tour.next }]\n        });\n        setTimeout(() => {\n          tour.start();\n        }, 1000);\n        window.localStorage.setItem('tutorial', true);\n      }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}